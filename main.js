(()=>{"use strict";var e=document.querySelector(".js-search"),t=e.querySelector(".js-search-input"),n=e.querySelector(".js-search-list");function r(){n.classList.remove("header__search-list_visible")}t.addEventListener("input",(function(e){var t;e.target.value.length>=3?(t=e.target.value,fetch("https://api.my-advo.cat/api/search/complete?q=%D1%81%D1%83%D0%B4&target=all").then((function(e){return e.ok?e.json():Promise.reject(e.status)})).then((function(e){return r=e.payload.list,a=t,void((c=r.filter((function(e){return e.tags.toLowerCase().includes(a.toLowerCase())})))&&c.length>0&&(n.classList.add("header__search-list_visible"),function(e){for(;n.firstChild;)n.removeChild(n.firstChild);e.forEach((function(e){n.insertAdjacentHTML("beforeend",'<li class="header__search-list-item">'.concat(e.tags,"</li>"))}))}(c)));var r,a,c})).catch((function(e){return console.log("Ошибка - ".concat(e))}))):r()})),n.addEventListener("click",(function(e){t.value=e.target.textContent,r(),console.log('Производится запрос на поиск по выражению - "'.concat(e.target.textContent,'"'))})),document.addEventListener("click",r)})();
//# sourceMappingURL=main.js.map